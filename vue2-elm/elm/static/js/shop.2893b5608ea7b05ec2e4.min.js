webpackJsonp([2,45],{15:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImgPath=e.loadMore=void 0;var i=s(23),o=s(22);e.loadMore={directives:{"load-more":{bind:function(t,e){var s=window.screen.height,o=void 0,n=void 0,a=void 0,r=void 0,c=void 0,l=void 0,h=void 0,d=void 0,u=t.attributes.type&&t.attributes.type.value,p=2;2==u?(h=t,d=t.children[0]):(h=document.body,d=t),t.addEventListener("touchstart",function(){o=d.clientHeight,2==u&&(o=o),n=t.offsetTop,a=(0,i.getStyle)(t,"paddingBottom"),r=(0,i.getStyle)(t,"marginBottom")},!1),t.addEventListener("touchmove",function(){m()},!1),t.addEventListener("touchend",function(){l=h.scrollTop,f()},!1);var f=function t(){c=requestAnimationFrame(function(){h.scrollTop!=l?(l=h.scrollTop,t()):(cancelAnimationFrame(c),o=d.clientHeight,m())})},m=function(){h.scrollTop+s>=o+n+a+r-p&&e.value()}}}}},e.getImgPath={methods:{getImgPath:function(t){var e=void 0;if(!t)return"http://test.fe.ptdev.cn/elm/elmlogo.jpeg";e=t.indexOf("jpeg")!==-1?".jpeg":".png";var s="/"+t.substr(0,1)+"/"+t.substr(1,2)+"/"+t.substr(3)+e;return o.imgBaseUrl+s}}}},18:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{positionY:0,timer:null}},mounted:function(){var t=this;this.timer=setInterval(function(){t.positionY++},600)},beforeDestroy:function(){clearInterval(this.timer)}}},19:function(t,e,s){var i=s(!function(){var t=new Error('Cannot find module "!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-1c82800a&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./loading.vue"');throw t.code="MODULE_NOT_FOUND",t}());"string"==typeof i&&(i=[[t.id,i,""]]);s(1)(i,{});i.locals&&(t.exports=i.locals)},20:function(t,e,s){s(19);var i=s(2)(s(18),s(21),"data-v-1c82800a",null);t.exports=i.exports},21:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading_container"},[s("div",{staticClass:"load_img",style:{backgroundPositionY:2.5*-(t.positionY%7)+"rem"}}),t._v(" "),s("svg",{staticClass:"load_ellipse",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[s("ellipse",{staticStyle:{fill:"#ddd",stroke:"none"},attrs:{cx:"26",cy:"10",rx:"26",ry:"10"}})])])},staticRenderFns:[]}},26:function(t,e,s){!function(e,s){t.exports=s()}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var s={};return e.m=t,e.c=s,e.p="/assets/",e(0)}([function(t,e,s){"use strict";var i=s(1);i.BScroll.Version="0.1.15",t.exports=i.BScroll},function(t,e,s){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BScroll=void 0;var a=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),r=s(2),c=1;e.BScroll=function(t){function e(t,s){i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));return n.wrapper="string"==typeof t?document.querySelector(t):t,n.scroller=n.wrapper.children[0],n.scrollerStyle=n.scroller.style,n.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,selectedIndex:0,rotate:25,wheel:!1,snap:!1,snapLoop:!1,snapThreshold:.1,swipeTime:2500,bounceTime:700,adjustTime:400,swipeBounceTime:1200,deceleration:.001,momentumLimitTime:300,momentumLimitDistance:15,resizePolling:60,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0},(0,r.extend)(n.options,s),n.translateZ=n.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",n.options.useTransition=n.options.useTransition&&r.hasTransition,n.options.useTransform=n.options.useTransform&&r.hasTransform,n.options.eventPassthrough=n.options.eventPassthrough===!0?"vertical":n.options.eventPassthrough,n.options.preventDefault=!n.options.eventPassthrough&&n.options.preventDefault,n.options.scrollX="horizontal"!==n.options.eventPassthrough&&n.options.scrollX,n.options.scrollY="vertical"!==n.options.eventPassthrough&&n.options.scrollY,n.options.freeScroll=n.options.freeScroll&&!n.options.eventPassthrough,n.options.directionLockThreshold=n.options.eventPassthrough?0:n.options.directionLockThreshold,n.options.tap===!0&&(n.options.tap="tap"),n._init(),n.options.snap&&n._initSnap(),n.refresh(),n.options.snap||n.scrollTo(n.options.startX,n.options.startY),n.enable(),n}return n(e,t),a(e,[{key:"_init",value:function(){this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._addEvents()}},{key:"_initSnap",value:function(){var t=this;if(this.currentPage={},this.options.snapLoop){var e=this.scroller.children;e.length>0&&((0,r.prepend)(e[e.length-1].cloneNode(!0),this.scroller),this.scroller.appendChild(e[1].cloneNode(!0)))}"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){if(t.pages=[],t.wrapperWidth&&t.wrapperHeight&&t.scrollerWidth&&t.scrollerHeight){var e=t.options.snapStepX||t.wrapperWidth,s=t.options.snapStepY||t.wrapperHeight,i=0,o=void 0,n=void 0,a=void 0,c=0,l=void 0,h=0,d=void 0,u=void 0,p=void 0;if(t.options.snap===!0)for(n=Math.round(e/2),a=Math.round(s/2);i>-t.scrollerWidth;){for(t.pages[c]=[],l=0,o=0;o>-t.scrollerHeight;)t.pages[c][l]={x:Math.max(i,t.maxScrollX),y:Math.max(o,t.maxScrollY),width:e,height:s,cx:i-n,cy:o-a},o-=s,l++;i-=e,c++}else for(u=t.options.snap,l=u.length,d=-1;c<l;c++)p=(0,r.getRect)(u[c]),(0===c||p.left<=(0,r.getRect)(u[c-1]).left)&&(h=0,d++),t.pages[h]||(t.pages[h]=[]),i=Math.max(-p.left,t.maxScrollX),o=Math.max(-p.top,t.maxScrollY),n=i-Math.round(p.width/2),a=o-Math.round(p.height/2),t.pages[h][d]={x:i,y:o,width:p.width,height:p.height,cx:n,cy:a},i>t.maxScrollX&&h++;var f=t.options.snapLoop?1:0;t.goToPage(t.currentPage.pageX||f,t.currentPage.pageY||0,0),t.options.snapThreshold%1===0?(t.snapThresholdX=t.options.snapThreshold,t.snapThresholdY=t.options.snapThreshold):(t.snapThresholdX=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].width*t.options.snapThreshold),t.snapThresholdY=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].height*t.options.snapThreshold))}}),this.on("scrollEnd",function(){t.options.snapLoop&&(0===t.currentPage.pageX&&t.goToPage(t.pages.length-2,t.currentPage.pageY,0),t.currentPage.pageX===t.pages.length-1&&t.goToPage(1,t.currentPage.pageY,0))}),this.on("flick",function(){var e=t.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(t.x-t.startX),1e3),Math.min(Math.abs(t.y-t.startY),1e3)),300);t.goToPage(t.currentPage.pageX+t.directionX,t.currentPage.pageY+t.directionY,e)})}},{key:"_nearestSnap",value:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0;if(Math.abs(t-this.absStartX)<this.snapThresholdX&&Math.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);for(var i=this.pages.length;s<i;s++)if(t>=this.pages[s][0].cx){t=this.pages[s][0].x;break}i=this.pages[s].length;for(var o=0;o<i;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return s===this.currentPage.pageX&&(s+=this.directionX,s<0?s=0:s>=this.pages.length&&(s=this.pages.length-1),t=this.pages[s][0].x),o===this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:s,pageY:o}}},{key:"_addEvents",value:function(){var t=r.addEvent;this._handleEvents(t)}},{key:"_removeEvents",value:function(){var t=r.removeEvent;this._handleEvents(t)}},{key:"_handleEvents",value:function(t){var e=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(e,"mousemove",this),t(e,"mousecancel",this),t(e,"mouseup",this)),r.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(e,"touchmove",this),t(e,"touchcancel",this),t(e,"touchend",this)),t(this.scroller,r.style.transitionEnd,this)}},{key:"_start",value:function(t){var e=r.eventType[t.type];if((e===c||0===t.button)&&!(!this.enabled||this.destroyed||this.initiated&&this.initiated!==e)){if(this.initiated=e,!this.options.preventDefault||r.isBadAndroid||(0,r.preventDefaultException)(t.target,this.options.preventDefaultException)||t.preventDefault(),this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=+new Date,this.options.wheel&&(this.target=t.target),this.options.useTransition&&this.isInTransition){this.isInTransition=!1;var s=this.getComputedPosition();this._translate(s.x,s.y),this.options.wheel?this.target=this.items[Math.round(-s.y/this.itemHeight)]:this.trigger("scrollEnd")}var i=t.touches?t.touches[0]:t;this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this.trigger("beforeScrollStart")}}},{key:"_move",value:function(t){if(this.enabled&&!this.destroyed&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e=t.touches?t.touches[0]:t,s=e.pageX-this.pointX,i=e.pageY-this.pointY;this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=s,this.distY+=i;var o=Math.abs(this.distX),n=Math.abs(this.distY),a=+new Date;if(!(a-this.endTime>this.options.momentumLimitTime&&n<this.options.momentumLimitDistance&&o<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(o>n+this.options.directionLockThreshold?this.directionLocked="h":n>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);i=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);s=0}s=this.hasHorizontalScroll?s:0,i=this.hasVerticalScroll?i:0;var c=this.x+s,l=this.y+i;(c>0||c<this.maxScrollX)&&(c=this.options.bounce?this.x+s/3:c>0?0:this.maxScrollX),(l>0||l<this.maxScrollY)&&(l=this.options.bounce?this.y+i/3:l>0?0:this.maxScrollY),this.directionX=s>0?-1:s<0?1:0,this.directionY=i>0?-1:i<0?1:0,this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(c,l),a-this.startTime>this.options.momentumLimitTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this.trigger("scroll",{x:this.x,y:this.y})),this.options.probeType>1&&this.trigger("scroll",{x:this.x,y:this.y});var h=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,d=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,u=this.pointX-h,p=this.pointY-d;(u>document.documentElement.clientWidth-this.options.momentumLimitDistance||u<this.options.momentumLimitDistance||p<this.options.momentumLimitDistance||p>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(t)}}}},{key:"_end",value:function(t){if(this.enabled&&!this.destroyed&&r.eventType[t.type]===this.initiated&&(this.initiated=!1,this.options.preventDefault&&!(0,r.preventDefaultException)(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.trigger("touchend",{x:this.x,y:this.y}),!this.resetPosition(this.options.bounceTime,r.ease.bounce))){this.isInTransition=!1;var e=Math.round(this.x),s=Math.round(this.y);if(!this.moved){if(this.options.wheel){if(this.target&&"wheel-scroll"===this.target.className){var i=Math.abs(Math.round(s/this.itemHeight)),o=Math.round((this.pointY+(0,r.offset)(this.target).top-this.itemHeight/2)/this.itemHeight);this.target=this.items[i+o]}this.scrollToElement(this.target,this.options.adjustTime,!0,!0,r.ease.swipe)}else this.options.tap&&(0,r.tap)(t,this.options.tap),this.options.click&&(0,r.click)(t);return void this.trigger("scrollCancel")}this.scrollTo(e,s),this.endTime=+new Date;var n=this.endTime-this.startTime,a=Math.abs(e-this.startX),c=Math.abs(s-this.startY);if(this._events.flick&&n<this.options.momentumLimitTime&&a<this.options.momentumLimitDistance&&c<this.options.momentumLimitDistance)return void this.trigger("flick");var l=0;if(this.options.momentum&&n<this.options.momentumLimitTime&&(c>this.options.momentumLimitDistance||a>this.options.momentumLimitDistance)){var h=this.hasHorizontalScroll?(0,r.momentum)(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options):{destination:e,duration:0},d=this.hasVerticalScroll?(0,r.momentum)(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options):{destination:s,duration:0};e=h.destination,s=d.destination,l=Math.max(h.duration,d.duration),this.isInTransition=1}else this.options.wheel&&(s=Math.round(s/this.itemHeight)*this.itemHeight,l=this.options.adjustTime);var u=r.ease.swipe;if(this.options.snap){var p=this._nearestSnap(e,s);this.currentPage=p,l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-p.x),1e3),Math.min(Math.abs(s-p.y),1e3)),300),e=p.x,s=p.y,this.directionX=0,this.directionY=0,u=r.ease.bounce}if(e!==this.x||s!==this.y)return(e>0||e<this.maxScrollX||s>0||s<this.maxScrollY)&&(u=r.ease.swipeBounce),void this.scrollTo(e,s,l,u);this.options.wheel&&(this.selectedIndex=0|Math.abs(this.y/this.itemHeight)),this.trigger("scrollEnd")}}},{key:"_resize",value:function(){var t=this;this.enabled&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling))}},{key:"_startProbe",value:function(){function t(){var s=e.getComputedPosition();e.trigger("scroll",s),e.isInTransition&&(e.probeTimer=(0,r.requestAnimationFrame)(t))}(0,r.cancelAnimationFrame)(this.probeTimer),this.probeTimer=(0,r.requestAnimationFrame)(t);var e=this}},{key:"_transitionTime",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(this.scrollerStyle[r.style.transitionDuration]=e+"ms",this.options.wheel&&!r.isBadAndroid)for(var s=0;s<this.items.length;s++)this.items[s].style[r.style.transitionDuration]=e+"ms";!e&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s",(0,r.requestAnimationFrame)(function(){"0.0001ms"===t.scrollerStyle[r.style.transitionDuration]&&(t.scrollerStyle[r.style.transitionDuration]="0s")}))}},{key:"_transitionTimingFunction",value:function(t){if(this.scrollerStyle[r.style.transitionTimingFunction]=t,this.options.wheel&&!r.isBadAndroid)for(var e=0;e<this.items.length;e++)this.items[e].style[r.style.transitionTimingFunction]=t}},{key:"_transitionEnd",value:function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime,r.ease.bounce)||(this.isInTransition=!1,this.trigger("scrollEnd")))}},{key:"_translate",value:function(t,e){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.options.wheel&&!r.isBadAndroid)for(var s=0;s<this.items.length;s++){var i=this.options.rotate*(e/this.itemHeight+s);this.items[s].style[r.style.transform]="rotateX("+i+"deg)"}this.x=t,this.y=e}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"refresh",value:function(){this.wrapper.offsetHeight;this.wrapperWidth=parseInt(this.wrapper.style.width)||this.wrapper.clientWidth,this.wrapperHeight=parseInt(this.wrapper.style.height)||this.wrapper.clientHeight,this.scrollerWidth=parseInt(this.scroller.style.width)||this.scroller.clientWidth,this.scrollerHeight=parseInt(this.scroller.style.height)||this.scroller.clientHeight,this.options.wheel?(this.items=this.scroller.children,this.options.itemHeight=this.itemHeight=this.items.length?this.items[0].clientHeight:0,void 0===this.selectedIndex&&(this.selectedIndex=this.options.selectedIndex),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=(0,r.offset)(this.wrapper),this.trigger("refresh"),this.resetPosition()}},{key:"resetPosition",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?r.ease.bounce:arguments[1],s=this.x;!this.hasHorizontalScroll||s>0?s=0:s<this.maxScrollX&&(s=this.maxScrollX);var i=this.y;return!this.hasVerticalScroll||i>0?i=0:i<this.maxScrollY&&(i=this.maxScrollY),(s!==this.x||i!==this.y)&&(this.scrollTo(s,i,t,e),!0)}},{key:"wheelTo",value:function(t){this.options.wheel&&(this.y=-t*this.itemHeight,this.scrollTo(0,this.y))}},{key:"scrollBy",value:function(t,e){var s=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?r.ease.bounce:arguments[3];t=this.x+t,e=this.y+e,this.scrollTo(t,e,s,i)}},{key:"scrollTo",value:function(t,e,s){var i=arguments.length<=3||void 0===arguments[3]?r.ease.bounce:arguments[3];this.isInTransition=this.options.useTransition&&s>0&&(t!==this.x||e!==this.y),s&&!this.options.useTransition||(this._transitionTimingFunction(i.style),this._transitionTime(s),this._translate(t,e),s&&3===this.options.probeType&&this._startProbe(),this.options.wheel&&(e>0?this.selectedIndex=0:e<this.maxScrollY?this.selectedIndex=this.items.length-1:this.selectedIndex=0|Math.abs(e/this.itemHeight)))}},{key:"getSelectedIndex",value:function(){return this.options.wheel&&this.selectedIndex}},{key:"getCurrentPage",value:function(){return this.options.snap&&this.currentPage}},{key:"scrollToElement",value:function(t,e,s,i,o){if(t&&(t=t.nodeType?t:this.scroller.querySelector(t),!this.options.wheel||"wheel-item"===t.className)){var n=(0,r.offset)(t);n.left-=this.wrapperOffset.left,n.top-=this.wrapperOffset.top,s===!0&&(s=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),n.left-=s||0,n.top-=i||0,n.left=n.left>0?0:n.left<this.maxScrollX?this.maxScrollX:n.left,n.top=n.top>0?0:n.top<this.maxScrollY?this.maxScrollY:n.top,this.options.wheel&&(n.top=Math.round(n.top/this.itemHeight)*this.itemHeight),e=void 0===e||null===e||"auto"===e?Math.max(Math.abs(this.x-n.left),Math.abs(this.y-n.top)):e,this.scrollTo(n.left,n.top,e,o)}}},{key:"getComputedPosition",value:function(){var t=window.getComputedStyle(this.scroller,null),e=void 0,s=void 0;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),e=+(t[12]||t[4]),s=+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),s=+t.top.replace(/[^-\d.]/g,"")),{x:e,y:s}}},{key:"goToPage",value:function(t,e,s){var i=arguments.length<=3||void 0===arguments[3]?r.ease.bounce:arguments[3];t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,n=this.pages[t][e].y;s=void 0===s?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(n-this.y),1e3)),300):s,this.currentPage={x:o,y:n,pageX:t,pageY:e},this.scrollTo(o,n,s,i)}},{key:"next",value:function(t,e){var s=this.currentPage.pageX,i=this.currentPage.pageY;s++,s>=this.pages.length&&this.hasVerticalScroll&&(s=0,i++),this.goToPage(s,i,t,e)}},{key:"prev",value:function(t,e){var s=this.currentPage.pageX,i=this.currentPage.pageY;s--,s<0&&this.hasVerticalScroll&&(s=0,i--),this.goToPage(s,i,t,e)}},{key:"destroy",value:function(){this._removeEvents(),this.destroyed=!0,this.trigger("destroy")}},{key:"handleEvent",value:function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t);break;case"touchmove":case"mousemove":this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"click":!this.enabled||t._constructed||/(SELECT|INPUT|TEXTAREA)/i.test(t.target.tagName)||(t.preventDefault(),t.stopPropagation())}}}]),e}(r.EventEmitter)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(3);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=s(4);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var n=s(5);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var a=s(6);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var r=s(7);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var c=s(8);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e){"use strict";function s(t){return p!==!1&&("standard"===p?t:p+t.charAt(0).toUpperCase()+t.substr(1))}function i(t,e,s,i){t.addEventListener(e,s,{passive:!1,capture:!!i})}function o(t,e,s,i){t.removeEventListener(e,s,!!i)}function n(t){for(var e=0,s=0;t;)e-=t.offsetLeft,s-=t.offsetTop,t=t.offsetParent;return{left:e,top:s}}function a(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function r(t,e){for(var s in e)if(e[s].test(t[s]))return!0;return!1}function c(t,e){var s=document.createEvent("Event");s.initEvent(e,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)}function l(t){var e=t.target;if(!/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)){var s=document.createEvent(window.MouseEvent?"MouseEvents":"Event");s.initEvent("click",!0,!0),s._constructed=!0,e.dispatchEvent(s)}}function h(t,e){e.firstChild?d(t,e.firstChild):e.appendChild(t)}function d(t,e){e.parentNode.insertBefore(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.addEvent=i,e.removeEvent=o,e.offset=n,e.getRect=a,e.preventDefaultException=r,e.tap=c,e.click=l,e.prepend=h,e.before=d;var u=document.createElement("div").style,p=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==u[t[e]])return e;return!1}(),f=s("transform"),m=(e.hasPerspective=s("perspective")in u,e.hasTouch="ontouchstart"in window,e.hasTransform=f!==!1,e.hasTransition=s("transition")in u,e.style={transform:f,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin"),transitionEnd:s("transitionEnd")},1),_=2;e.eventType={touchstart:m,touchmove:m,touchend:m,mousedown:_,mousemove:_,mouseup:_}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ease={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}}},function(t,e){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var s=[],i=!0,o=!1,n=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done)&&(s.push(a.value),!e||s.length!==e);i=!0);}catch(t){o=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(o)throw n}}return s}return function(e,s){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();e.EventEmitter=function(){function t(){i(this,t),this._events={}}return n(t,[{key:"on",value:function(t,e){var s=arguments.length<=2||void 0===arguments[2]?this:arguments[2];this._events[t]||(this._events[t]=[]),this._events[t].push([e,s])}},{key:"once",value:function(t,e){function s(){this.off(t,s),o||(o=!0,e.apply(i,arguments))}var i=arguments.length<=2||void 0===arguments[2]?this:arguments[2],o=!1;this.on(t,s)}},{key:"off",value:function(t,e){var s=this._events[t];if(s)for(var i=s.length;i--;)s[i][0]===e&&(s[i][0]=void 0)}},{key:"trigger",value:function(t){var e=this._events[t];if(e)for(var i=e.length,n=[].concat(s(e)),a=0;a<i;a++){var r=n[a],c=o(r,2),l=c[0],h=c[1];l&&l.apply(h,[].slice.call(arguments,1))}}}]),t}()},function(t,e){"use strict";function s(t,e,s,i,o,n){var a=t-e,r=Math.abs(a)/s,c=n.deceleration,l=n.itemHeight,h=n.swipeBounceTime,d=n.bounceTime,u=n.swipeTime,p=n.wheel?4:15,f=t+r/c*(a<0?-1:1);return n.wheel&&l&&(f=Math.round(f/l)*l),f<i?(f=o?i-o/p*r:i,u=h-d):f>0&&(f=o?o/p*r:0,u=h-d),{destination:Math.round(f),duration:u}}Object.defineProperty(e,"__esModule",{value:!0}),e.momentum=s},function(t,e){"use strict";function s(t,e){for(var s in e)t[s]=e[s]}Object.defineProperty(e,"__esModule",{value:!0}),e.extend=s;var i=100/60;e.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||i)/2)}}(),e.cancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}}()}])})},39:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){},props:["rating"]}},44:function(t,e,s){var i=s(!function(){var t=new Error('Cannot find module "!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-5df6cab1&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ratingStar.vue"');throw t.code="MODULE_NOT_FOUND",t}());"string"==typeof i&&(i=[[t.id,i,""]]);s(1)(i,{});i.locals&&(t.exports=i.locals)},45:function(t,e,s){s(44);var i=s(2)(s(39),s(46),"data-v-5df6cab1",null);t.exports=i.exports},46:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rating_container"},[s("section",{staticClass:"star_container"},t._l(5,function(t){return s("svg",{key:t,staticClass:"grey_fill"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#star"}})])})),t._v(" "),s("div",{staticClass:"star_overflow",style:"width:"+2*t.rating/5+"rem"},[s("section",{staticClass:"star_container"},t._l(5,function(t){return s("svg",{key:t,staticClass:"orange_fill"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#star"}})])}))])])},staticRenderFns:[]}},50:function(t,e,s){t.exports={default:s(52),__esModule:!0}},52:function(t,e,s){s(59),t.exports=s(25).Object.values},57:function(t,e,s){var i=s(34),o=s(31),n=s(43).f;t.exports=function(t){return function(e){for(var s,a=o(e),r=i(a),c=r.length,l=0,h=[];c>l;)n.call(a,s=r[l++])&&h.push(t?[s,a[s]]:a[s]);return h}}},59:function(t,e,s){var i=s(30),o=s(57)(!1);i(i.S,"Object",{values:function(t){return o(t)}})},67:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(50),n=i(o),a=s(49),r=i(a),c=s(8),l=i(c),h=s(3);e.default={data:function(){return{showMoveDot:[]}},mounted:function(){},computed:(0,l.default)({},(0,h.mapState)(["cartList"]),{shopCart:function(){return(0,r.default)({},this.cartList[this.shopId])},foodNum:function(){var t=this.foods.category_id,e=this.foods.item_id;if(this.shopCart&&this.shopCart[t]&&this.shopCart[t][e]){var s=0;return(0,n.default)(this.shopCart[t][e]).forEach(function(t,e){s+=t.num}),s}return 0}}),props:["foods","shopId"],methods:(0,l.default)({},(0,h.mapMutations)(["ADD_CART","REDUCE_CART"]),{removeOutCart:function(t,e,s,i,o,n,a,r,c){this.foodNum>0&&this.REDUCE_CART({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:i,price:o,specs:n,packing_fee:a,sku_id:r,stock:c})},addToCart:function(t,e,s,i,o,n,a,r,c,l){this.ADD_CART({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:i,price:o,specs:n,packing_fee:a,sku_id:r,stock:c});var h=l.target.getBoundingClientRect().left,d=l.target.getBoundingClientRect().bottom;this.showMoveDot.push(!0),this.$emit("showMoveDot",this.showMoveDot,h,d)},showChooseList:function(t){this.$emit("showChooseList",t)},showReduceTip:function(){this.$emit("showReduceTip")}})}},85:function(t,e,s){var i=s(!function(){var t=new Error('Cannot find module "!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2feef6d8&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./buyCart.vue"');throw t.code="MODULE_NOT_FOUND",t}());"string"==typeof i&&(i=[[t.id,i,""]]);s(1)(i,{});i.locals&&(t.exports=i.locals)},86:function(t,e,s){s(85);var i=s(2)(s(67),s(89),"data-v-2feef6d8",null);t.exports=i.exports},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"cart_module"},[t.foods.specifications.length?s("section",{staticClass:"choose_specification"},[s("section",{staticClass:"choose_icon_container"},[s("transition",{attrs:{name:"showReduce"}},[t.foodNum?s("svg",{staticClass:"specs_reduce_icon",on:{click:t.showReduceTip}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-minus"}})]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.foodNum?s("span",{staticClass:"cart_num"},[t._v(t._s(t.foodNum))]):t._e()]),t._v(" "),s("span",{
staticClass:"show_chooselist",on:{click:function(e){t.showChooseList(t.foods)}}},[t._v("选规格")])],1)]):s("section",{staticClass:"cart_button"},[s("transition",{attrs:{name:"showReduce"}},[t.foodNum?s("span",{on:{click:function(e){t.removeOutCart(t.foods.category_id,t.foods.item_id,t.foods.specfoods[0].food_id,t.foods.specfoods[0].name,t.foods.specfoods[0].price,"",t.foods.specfoods[0].packing_fee,t.foods.specfoods[0].sku_id,t.foods.specfoods[0].stock)}}},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-minus"}})])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.foodNum?s("span",{staticClass:"cart_num"},[t._v(t._s(t.foodNum))]):t._e()]),t._v(" "),s("svg",{staticClass:"add_icon",on:{touchstart:function(e){t.addToCart(t.foods.category_id,t.foods.item_id,t.foods.specfoods[0].food_id,t.foods.specfoods[0].name,t.foods.specfoods[0].price,"",t.foods.specfoods[0].packing_fee,t.foods.specfoods[0].sku_id,t.foods.specfoods[0].stock,e)}}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-add"}})])],1)])},staticRenderFns:[]}},154:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(51),n=i(o),a=s(61),r=i(a),c=s(91),l=i(c),h=s(17),d=i(h),u=s(16),p=i(u),f=s(8),m=i(f),_=s(3),v=s(14),g=s(20),y=i(g),w=s(86),x=i(w),C=s(45),T=i(C),b=s(15),k=s(26),D=i(k);e.default={data:function(){return{geohash:"",shopId:null,showLoading:!0,changeShowType:"food",shopDetailData:null,showActivities:!1,menuList:[],menuIndex:0,menuIndexChange:!0,shopListTop:[],TitleDetailIndex:null,categoryNum:[],totalPrice:0,cartFoodList:[],showCartList:!1,receiveInCart:!1,ratingList:null,ratingOffset:0,ratingScoresData:null,ratingTagsList:null,ratingTageIndex:0,preventRepeatRequest:!1,ratingTagName:"",loadRatings:!1,foodScroll:null,showSpecs:!1,specsIndex:0,choosedFoods:null,showDeleteTip:!1,showMoveDot:[],windowHeight:null,elLeft:0,elBottom:0,ratingScroll:null,wrapperMenu:null}},created:function(){this.geohash=this.$route.query.geohash,this.shopId=this.$route.query.id,this.INIT_BUYCART()},mounted:function(){this.initData(),this.windowHeight=window.innerHeight},mixins:[b.loadMore,b.getImgPath],components:{loading:y.default,ratingStar:T.default,buyCart:x.default},computed:(0,m.default)({},(0,_.mapState)(["latitude","longitude","cartList"]),{promotionInfo:function(){return this.shopDetailData.promotion_info||"欢迎光临，用餐高峰期请提前下单，谢谢。"},deliveryFee:function(){return this.shopDetailData?this.shopDetailData.float_delivery_fee:null},minimumOrderAmount:function(){return this.shopDetailData?this.shopDetailData.float_minimum_order_amount-this.totalPrice:null},shopCart:function(){return(0,m.default)({},this.cartList[this.shopId])},totalNum:function(){var t=0;return this.cartFoodList.forEach(function(e){t+=e.num}),t}}),methods:(0,m.default)({},(0,_.mapMutations)(["RECORD_ADDRESS","ADD_CART","REDUCE_CART","INIT_BUYCART","CLEAR_CART","RECORD_SHOPDETAIL"]),{initData:function(){var t=this;return(0,p.default)(d.default.mark(function e(){var s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.latitude){e.next=5;break}return e.next=3,(0,v.msiteAdress)(t.geohash);case 3:s=e.sent,t.RECORD_ADDRESS(s);case 5:return e.next=7,(0,v.shopDetails)(t.shopId,t.latitude,t.longitude);case 7:return t.shopDetailData=e.sent,e.next=10,(0,v.foodMenu)(t.shopId);case 10:return t.menuList=e.sent,e.next=13,(0,v.getRatingList)(t.ratingOffset);case 13:return t.ratingList=e.sent,e.next=16,(0,v.ratingScores)(t.shopId);case 16:return t.ratingScoresData=e.sent,e.next=19,(0,v.ratingTags)(t.shopId);case 19:t.ratingTagsList=e.sent,t.RECORD_SHOPDETAIL(t.shopDetailData),t.hideLoading();case 22:case"end":return e.stop()}},e,t)}))()},getFoodListHeight:function(){var t=this,e=this.$refs.shopheader.clientHeight,s=this.$refs.chooseType.clientHeight,i=this.$refs.menuFoodList,o=(0,l.default)(i.children[0].children);o.forEach(function(i,o){t.shopListTop[o]=i.offsetTop-e-s}),this.listenScroll(i)},listenScroll:function(t){var e=this;this.foodScroll=new D.default(t,{probeType:3,deceleration:.001,bounce:!1,swipeTime:2e3,click:!0}),this.wrapperMenu=new D.default("#wrapper_menu",{click:!0}),this.foodScroll.on("scroll",function(t){e.shopListTop.forEach(function(s,i){e.menuIndexChange&&Math.abs(Math.round(t.y))>=s&&(e.menuIndex=i)})})},showActivitiesFun:function(){this.showActivities=!this.showActivities},chooseMenu:function(t){var e=this;this.menuIndex=t,this.menuIndexChange=!1,this.foodScroll.scrollTo(0,-this.shopListTop[t],400),this.foodScroll.on("scrollEnd",function(){e.menuIndexChange=!0})},showTitleDetail:function(t){this.TitleDetailIndex==t?this.TitleDetailIndex=null:this.TitleDetailIndex=t},addToCart:function(t,e,s,i,o,n){this.ADD_CART({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:i,price:o,specs:n})},removeOutCart:function(t,e,s,i,o,n){this.REDUCE_CART({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:i,price:o,specs:n})},initCategoryNum:function(){var t=this,e=[],s=0;this.totalPrice=0,this.cartFoodList=[],this.menuList.forEach(function(i,o){if(t.shopCart&&t.shopCart[i.foods[0].category_id]){var n=0;(0,r.default)(t.shopCart[i.foods[0].category_id]).forEach(function(e){(0,r.default)(t.shopCart[i.foods[0].category_id][e]).forEach(function(o){var a=t.shopCart[i.foods[0].category_id][e][o];n+=a.num,1==i.type&&(t.totalPrice+=a.num*a.price,a.num>0&&(t.cartFoodList[s]={},t.cartFoodList[s].category_id=i.foods[0].category_id,t.cartFoodList[s].item_id=e,t.cartFoodList[s].food_id=o,t.cartFoodList[s].num=a.num,t.cartFoodList[s].price=a.price,t.cartFoodList[s].name=a.name,t.cartFoodList[s].specs=a.specs,s++))})}),e[o]=n}else e[o]=0}),this.totalPrice=this.totalPrice.toFixed(2),this.categoryNum=[].concat(e)},toggleCartList:function(){!this.cartFoodList.length||(this.showCartList=!this.showCartList)},clearCart:function(){this.toggleCartList(),this.CLEAR_CART(this.shopId)},listenInCart:function(){var t=this;this.receiveInCart||(this.receiveInCart=!0,this.$refs.cartContainer.addEventListener("animationend",function(){t.receiveInCart=!1}),this.$refs.cartContainer.addEventListener("webkitAnimationEnd",function(){t.receiveInCart=!1}))},changeTgeIndex:function(t,e){var s=this;return(0,p.default)(d.default.mark(function i(){var o;return d.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s.ratingTageIndex=t,s.ratingOffset=0,s.ratingTagName=e,i.next=5,(0,v.getRatingList)(s.ratingOffset,e);case 5:o=i.sent,s.ratingList=[].concat((0,n.default)(o)),s.$nextTick(function(){s.ratingScroll.refresh()});case 8:case"end":return i.stop()}},i,s)}))()},loaderMoreRating:function(){var t=this;return(0,p.default)(d.default.mark(function e(){var s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.preventRepeatRequest){e.next=2;break}return e.abrupt("return");case 2:return t.loadRatings=!0,t.preventRepeatRequest=!0,t.ratingOffset+=10,e.next=7,(0,v.getRatingList)(t.ratingOffset,t.ratingTagName);case 7:s=e.sent,t.ratingList=[].concat((0,n.default)(t.ratingList),(0,n.default)(s)),t.loadRatings=!1,s.length>=10&&(t.preventRepeatRequest=!1);case 11:case"end":return e.stop()}},e,t)}))()},hideLoading:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){clearTimeout(t.timer),t.showLoading=!1},600)},showChooseList:function(t){t&&(this.choosedFoods=t),this.showSpecs=!this.showSpecs,this.specsIndex=0},chooseSpecs:function(t){this.specsIndex=t},addSpecs:function(t,e,s,i,o,n,a,r,c){this.ADD_CART({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:i,price:o,specs:n,packing_fee:a,sku_id:r,stock:c}),this.showChooseList()},showReduceTip:function(){var t=this;this.showDeleteTip=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){clearTimeout(t.timer),t.showDeleteTip=!1},3e3)},showMoveDotFun:function(t,e,s){this.showMoveDot=[].concat((0,n.default)(this.showMoveDot),(0,n.default)(t)),this.elLeft=e,this.elBottom=s},beforeEnter:function(t){t.style.transform="translate3d(0,"+(37+this.elBottom-this.windowHeight)+"px,0)",t.children[0].style.transform="translate3d("+(this.elLeft-30)+"px,0,0)",t.children[0].style.opacity=0},afterEnter:function(t){var e=this;t.style.transform="translate3d(0,0,0)",t.children[0].style.transform="translate3d(0,0,0)",t.style.transition="transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",t.children[0].style.transition="transform .55s linear",this.showMoveDot=this.showMoveDot.map(function(t){return!1}),t.children[0].style.opacity=1,t.children[0].addEventListener("transitionend",function(){e.listenInCart()}),t.children[0].addEventListener("webkitAnimationEnd",function(){e.listenInCart()})}}),watch:{showLoading:function(t){var e=this;t||this.$nextTick(function(){e.getFoodListHeight(),e.initCategoryNum()})},shopCart:function(t){this.initCategoryNum()},cartFoodList:function(t){t.length||(this.showCartList=!1)},changeShowType:function(t){var e=this;"rating"===t&&this.$nextTick(function(){e.ratingScroll=new D.default("#ratingContainer",{probeType:3,deceleration:.003,bounce:!1,swipeTime:2e3,click:!0}),e.ratingScroll.on("scroll",function(t){Math.abs(Math.round(t.y))>=Math.abs(Math.round(e.ratingScroll.maxScrollY))&&(e.loaderMoreRating(),e.ratingScroll.refresh())})})}}}},270:function(t,e,s){var i=s(!function(){var t=new Error('Cannot find module "!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-c8684834&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./shop.vue"');throw t.code="MODULE_NOT_FOUND",t}());"string"==typeof i&&(i=[[t.id,i,""]]);s(1)(i,{});i.locals&&(t.exports=i.locals)},336:function(t,e,s){s(270);var i=s(2)(s(154),s(382),"data-v-c8684834",null);t.exports=i.exports},382:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showLoading?t._e():s("section",{staticClass:"shop_container"},[s("header",{ref:"shopheader",staticClass:"shop_detail_header",style:{zIndex:t.showActivities?"14":"10"}},[s("img",{staticClass:"header_cover_img",attrs:{src:t.getImgPath(t.shopDetailData.image_path)}}),t._v(" "),s("section",{staticClass:"description_header"},[s("router-link",{staticClass:"description_top",attrs:{to:"/shop/shopDetail"}},[s("section",{staticClass:"description_left"},[s("img",{attrs:{src:t.getImgPath(t.shopDetailData.image_path)}})]),t._v(" "),s("section",{staticClass:"description_right"},[s("h4",{staticClass:"description_title ellipsis"},[t._v(t._s(t.shopDetailData.name))]),t._v(" "),s("p",{staticClass:"description_text"},[t._v("商家配送／"+t._s(t.shopDetailData.order_lead_time)+"分钟送达／配送费¥"+t._s(t.shopDetailData.float_delivery_fee))]),t._v(" "),s("p",{staticClass:"description_promotion ellipsis"},[t._v("公告："+t._s(t.promotionInfo))])]),t._v(" "),s("svg",{staticClass:"description_arrow",attrs:{width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[s("path",{attrs:{d:"M0 0 L8 7 L0 14",stroke:"#fff","stroke-width":"1",fill:"none"}})])]),t._v(" "),t.shopDetailData.activities.length?s("footer",{staticClass:"description_footer",on:{click:t.showActivitiesFun}},[s("p",{staticClass:"ellipsis"},[s("span",{staticClass:"tip_icon",style:{backgroundColor:"#"+t.shopDetailData.activities[0].icon_color,borderColor:"#"+t.shopDetailData.activities[0].icon_color}},[t._v(t._s(t.shopDetailData.activities[0].icon_name))]),t._v(" "),s("span",[t._v(t._s(t.shopDetailData.activities[0].description)+"（APP专享）")])]),t._v(" "),s("p",[t._v(t._s(t.shopDetailData.activities.length)+"个活动")]),t._v(" "),s("svg",{staticClass:"footer_arrow"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-left"}})])]):t._e()],1)]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.showActivities?s("section",{staticClass:"activities_details"},[s("h2",{staticClass:"activities_shoptitle"},[t._v(t._s(t.shopDetailData.name))]),t._v(" "),s("h3",{staticClass:"activities_ratingstar"},[s("rating-star",{attrs:{rating:t.shopDetailData.rating}})],1),t._v(" "),s("section",{staticClass:"activities_list"},[s("header",{staticClass:"activities_title_style"},[s("span",[t._v("优惠信息")])]),t._v(" "),s("ul",t._l(t.shopDetailData.activities,function(e){return s("li",{key:e.id},[s("span",{staticClass:"activities_icon",style:{backgroundColor:"#"+e.icon_color,borderColor:"#"+e.icon_color}},[t._v(t._s(e.icon_name))]),t._v(" "),s("span",[t._v(t._s(e.description)+"（APP专享）")])])}))]),t._v(" "),s("section",{staticClass:"activities_shopinfo"},[s("header",{staticClass:"activities_title_style"},[s("span",[t._v("商家公告")])]),t._v(" "),s("p",[t._v(t._s(t.promotionInfo))])]),t._v(" "),s("svg",{staticClass:"close_activities",attrs:{width:"60",height:"60"},on:{click:function(e){e.stopPropagation(),t.showActivitiesFun(e)}}},[s("circle",{attrs:{cx:"30",cy:"30",r:"25",stroke:"#555","stroke-width":"1",fill:"none"}}),t._v(" "),s("line",{staticStyle:{stroke:"#999","stroke-width":"2"},attrs:{x1:"22",y1:"38",x2:"38",y2:"22"}}),t._v(" "),s("line",{staticStyle:{stroke:"#999","stroke-width":"2"},attrs:{x1:"22",y1:"22",x2:"38",y2:"38"}})])]):t._e()]),t._v(" "),s("section",{ref:"chooseType",staticClass:"change_show_type"},[s("div",[s("span",{class:{activity_show:"food"==t.changeShowType},on:{click:function(e){t.changeShowType="food"}}},[t._v("商品")])]),t._v(" "),s("div",[s("span",{class:{activity_show:"rating"==t.changeShowType},on:{click:function(e){t.changeShowType="rating"}}},[t._v("评价")])])]),t._v(" "),s("transition",{attrs:{name:"fade-choose"}},[s("section",{directives:[{name:"show",rawName:"v-show",value:"food"==t.changeShowType,expression:"changeShowType =='food'"}],staticClass:"food_container"},[s("section",{staticClass:"menu_container"},[s("section",{staticClass:"menu_left",attrs:{id:"wrapper_menu"}},[s("ul",t._l(t.menuList,function(e,i){return s("li",{key:i,staticClass:"menu_left_li",class:{activity_menu:i==t.menuIndex},on:{click:function(e){t.chooseMenu(i)}}},[e.icon_url?s("img",{attrs:{src:t.getImgPath(e.icon_url)}}):t._e(),t._v(" "),s("span",[t._v(t._s(e.name))]),t._v(" "),t.categoryNum[i]&&1==e.type?s("span",{staticClass:"category_num"},[t._v(t._s(t.categoryNum[i]))]):t._e()])}))]),t._v(" "),s("section",{ref:"menuFoodList",staticClass:"menu_right"},[s("ul",t._l(t.menuList,function(e,i){return s("li",{key:i},[s("header",{staticClass:"menu_detail_header"},[s("section",{staticClass:"menu_detail_header_left"},[s("strong",{staticClass:"menu_item_title"},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"menu_item_description"},[t._v(t._s(e.description))])]),t._v(" "),s("span",{staticClass:"menu_detail_header_right",on:{click:function(e){t.showTitleDetail(i)}}}),t._v(" "),i==t.TitleDetailIndex?s("p",{staticClass:"description_tip"},[s("span",[t._v(t._s(e.name))]),t._v("\n                                        "+t._s(e.description)+"\n                                    ")]):t._e()]),t._v(" "),t._l(e.foods,function(e,i){return s("section",{key:i,staticClass:"menu_detail_list"},[s("router-link",{staticClass:"menu_detail_link",attrs:{to:{path:"shop/foodDetail",query:{image_path:e.image_path,description:e.description,month_sales:e.month_sales,name:e.name,rating:e.rating,rating_count:e.rating_count,satisfy_rate:e.satisfy_rate,foods:e,shopId:t.shopId}},tag:"div"}},[s("section",{staticClass:"menu_food_img"},[s("img",{attrs:{src:t.getImgPath(e.image_path)}})]),t._v(" "),s("section",{staticClass:"menu_food_description"},[s("h3",{staticClass:"food_description_head"},[s("strong",{staticClass:"description_foodname"},[t._v(t._s(e.name))]),t._v(" "),e.attributes.length?s("ul",{staticClass:"attributes_ul"},t._l(e.attributes,function(e,i){return s("li",{key:i,class:{attribute_new:"新"==e.icon_name},style:{color:"#"+e.icon_color,borderColor:"#"+e.icon_color}},[s("p",{style:{color:"新"==e.icon_name?"#fff":"#"+e.icon_color}},[t._v(t._s("新"==e.icon_name?"新品":e.icon_name))])])})):t._e()]),t._v(" "),s("p",{staticClass:"food_description_content"},[t._v(t._s(e.description))]),t._v(" "),s("p",{staticClass:"food_description_sale_rating"},[s("span",[t._v("月售"+t._s(e.month_sales)+"份")]),t._v(" "),s("span",[t._v("好评率"+t._s(e.satisfy_rate)+"%")])]),t._v(" "),e.activity?s("p",{staticClass:"food_activity"},[s("span",{style:{color:"#"+e.activity.image_text_color,borderColor:"#"+e.activity.icon_color}},[t._v(t._s(e.activity.image_text))])]):t._e()])]),t._v(" "),s("footer",{staticClass:"menu_detail_footer"},[s("section",{staticClass:"food_price"},[s("span",[t._v("¥")]),t._v(" "),s("span",[t._v(t._s(e.specfoods[0].price))]),t._v(" "),e.specifications.length?s("span",[t._v("起")]):t._e()]),t._v(" "),s("buy-cart",{attrs:{shopId:t.shopId,foods:e},on:{moveInCart:t.listenInCart,showChooseList:t.showChooseList,showReduceTip:t.showReduceTip,showMoveDot:t.showMoveDotFun}})],1)],1)})],2)}))])]),t._v(" "),s("section",{staticClass:"buy_cart_container"},[s("section",{staticClass:"cart_icon_num",on:{click:t.toggleCartList}},[s("div",{ref:"cartContainer",staticClass:"cart_icon_container",class:{cart_icon_activity:t.totalPrice>0,move_in_cart:t.receiveInCart}},[t.totalNum?s("span",{staticClass:"cart_list_length"},[t._v("\n                                "+t._s(t.totalNum)+"\n                            ")]):t._e(),t._v(" "),s("svg",{staticClass:"cart_icon"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-icon"}})])]),t._v(" "),s("div",{staticClass:"cart_num"},[s("div",[t._v("¥ "+t._s(t.totalPrice))]),t._v(" "),s("div",[t._v("配送费¥"+t._s(t.deliveryFee))])])]),t._v(" "),s("section",{staticClass:"gotopay",class:{gotopay_acitvity:t.minimumOrderAmount<=0}},[t.minimumOrderAmount>0?s("span",{staticClass:"gotopay_button_style"},[t._v("还差¥"+t._s(t.minimumOrderAmount)+"起送")]):s("router-link",{staticClass:"gotopay_button_style",attrs:{to:{path:"/confirmOrder",query:{geohash:t.geohash,shopId:t.shopId}}}},[t._v("去结算")])],1)]),t._v(" "),s("transition",{attrs:{name:"toggle-cart"}},[s("section",{directives:[{name:"show",rawName:"v-show",value:t.showCartList&&t.cartFoodList.length,expression:"showCartList&&cartFoodList.length"}],staticClass:"cart_food_list"},[s("header",[s("h4",[t._v("购物车")]),t._v(" "),s("div",{on:{click:t.clearCart}},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-remove"}})]),t._v(" "),s("span",{staticClass:"clear_cart"},[t._v("清空")])])]),t._v(" "),s("section",{staticClass:"cart_food_details",attrs:{id:"cartFood"}},[s("ul",t._l(t.cartFoodList,function(e,i){return s("li",{key:i,staticClass:"cart_food_li"},[s("div",{staticClass:"cart_list_num"},[s("p",{staticClass:"ellipsis"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"ellipsis"},[t._v(t._s(e.specs))])]),t._v(" "),s("div",{staticClass:"cart_list_price"},[s("span",[t._v("¥")]),t._v(" "),s("span",[t._v(t._s(e.price))])]),t._v(" "),s("section",{staticClass:"cart_list_control"},[s("span",{on:{click:function(s){t.removeOutCart(e.category_id,e.item_id,e.food_id,e.name,e.price,e.specs)}}},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-minus"}})])]),t._v(" "),s("span",{staticClass:"cart_num"},[t._v(t._s(e.num))]),t._v(" "),s("svg",{staticClass:"cart_add",on:{click:function(s){t.addToCart(e.category_id,e.item_id,e.food_id,e.name,e.price,e.specs)}}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-add"}})])])])}))])])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCartList&&t.cartFoodList.length,expression:"showCartList&&cartFoodList.length"}],staticClass:"screen_cover",on:{click:t.toggleCartList}})])],1)]),t._v(" "),s("transition",{attrs:{name:"fade-choose"}},[s("section",{directives:[{name:"show",rawName:"v-show",value:"rating"==t.changeShowType,expression:"changeShowType =='rating'"}],staticClass:"rating_container",attrs:{id:"ratingContainer"}},[s("section",{directives:[{name:"load-more",rawName:"v-load-more",value:t.loaderMoreRating,expression:"loaderMoreRating"}],attrs:{type:"2"}},[s("section",[s("header",{staticClass:"rating_header"},[s("section",{staticClass:"rating_header_left"},[s("p",[t._v(t._s(t.shopDetailData.rating))]),t._v(" "),s("p",[t._v("综合评价")]),t._v(" "),s("p",[t._v("高于周边商家"+t._s((100*t.ratingScoresData.compare_rating).toFixed(1))+"%")])]),t._v(" "),s("section",{staticClass:"rating_header_right"},[s("p",[s("span",[t._v("服务态度")]),t._v(" "),s("rating-star",{attrs:{rating:t.ratingScoresData.service_score}}),t._v(" "),s("span",{staticClass:"rating_num"},[t._v(t._s(t.ratingScoresData.service_score.toFixed(1)))])],1),t._v(" "),s("p",[s("span",[t._v("菜品评价")]),t._v(" "),s("rating-star",{attrs:{rating:t.ratingScoresData.food_score}}),t._v(" "),s("span",{staticClass:"rating_num"},[t._v(t._s(t.ratingScoresData.food_score.toFixed(1)))])],1),t._v(" "),s("p",[s("span",[t._v("送达时间")]),t._v(" "),s("span",{staticClass:"delivery_time"},[t._v(t._s(t.shopDetailData.order_lead_time)+"分钟")])])])]),t._v(" "),s("ul",{staticClass:"tag_list_ul"},t._l(t.ratingTagsList,function(e,i){return s("li",{key:i,class:{unsatisfied:e.unsatisfied,tagActivity:t.ratingTageIndex==i},on:{click:function(s){t.changeTgeIndex(i,e.name)}}},[t._v(t._s(e.name)+"("+t._s(e.count)+")")])})),t._v(" "),s("ul",{staticClass:"rating_list_ul"},t._l(t.ratingList,function(e,i){return s("li",{key:i,staticClass:"rating_list_li"},[s("img",{staticClass:"user_avatar",attrs:{src:t.getImgPath(e.avatar)}}),t._v(" "),s("section",{staticClass:"rating_list_details"},[s("header",[s("section",{staticClass:"username_star"},[s("p",{staticClass:"username"},[t._v(t._s(e.username))]),t._v(" "),s("p",{staticClass:"star_desc"},[s("rating-star",{attrs:{rating:e.rating_star}}),t._v(" "),s("span",{staticClass:"time_spent_desc"},[t._v(t._s(e.time_spent_desc))])],1)]),t._v(" "),s("time",{staticClass:"rated_at"},[t._v(t._s(e.rated_at))])]),t._v(" "),s("ul",{staticClass:"food_img_ul"},t._l(e.item_ratings,function(e,i){return s("li",{key:i},[e.image_hash?s("img",{attrs:{src:t.getImgPath(e.image_hash)}}):t._e()])})),t._v(" "),s("ul",{staticClass:"food_name_ul"},t._l(e.item_ratings,function(e,i){return s("li",{key:i,staticClass:"ellipsis"},[t._v("\n                                            "+t._s(e.food_name)+"\n                                        ")])}))])])}))])])])])],1),t._v(" "),s("section",[s("transition",{attrs:{name:"fade"}},[t.showSpecs?s("div",{staticClass:"specs_cover",on:{click:t.showChooseList}}):t._e()]),t._v(" "),s("transition",{attrs:{name:"fadeBounce"}},[t.showSpecs?s("div",{staticClass:"specs_list"},[s("header",{staticClass:"specs_list_header"},[s("h4",{staticClass:"ellipsis"},[t._v(t._s(t.choosedFoods.name))]),t._v(" "),s("svg",{staticClass:"specs_cancel",attrs:{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},on:{click:t.showChooseList}},[s("line",{attrs:{x1:"0",y1:"0",x2:"16",y2:"16",stroke:"#666","stroke-width":"1.2"}}),t._v(" "),s("line",{attrs:{x1:"0",y1:"16",x2:"16",y2:"0",stroke:"#666","stroke-width":"1.2"}})])]),t._v(" "),s("section",{staticClass:"specs_details"},[s("h5",{staticClass:"specs_details_title"},[t._v(t._s(t.choosedFoods.specifications[0].name))]),t._v(" "),s("ul",t._l(t.choosedFoods.specifications[0].values,function(e,i){return s("li",{class:{specs_activity:i==t.specsIndex},on:{click:function(e){t.chooseSpecs(i)}}},[t._v("\n                            "+t._s(e)+"\n                        ")])}))]),t._v(" "),s("footer",{staticClass:"specs_footer"},[s("div",{staticClass:"specs_price"},[s("span",[t._v("¥ ")]),t._v(" "),s("span",[t._v(t._s(t.choosedFoods.specfoods[t.specsIndex].price))])]),t._v(" "),s("div",{staticClass:"specs_addto_cart",on:{click:function(e){t.addSpecs(t.choosedFoods.category_id,t.choosedFoods.item_id,t.choosedFoods.specfoods[t.specsIndex].food_id,t.choosedFoods.specfoods[t.specsIndex].name,t.choosedFoods.specfoods[t.specsIndex].price,t.choosedFoods.specifications[0].values[t.specsIndex],t.choosedFoods.specfoods[t.specsIndex].packing_fee,t.choosedFoods.specfoods[t.specsIndex].sku_id,t.choosedFoods.specfoods[t.specsIndex].stock)}}},[t._v("加入购物车")])])]):t._e()])],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.showDeleteTip?s("p",{staticClass:"show_delete_tip"},[t._v("多规格商品只能去购物车删除哦")]):t._e()]),t._v(" "),t._l(t.showMoveDot,function(e,i){return s("transition",{attrs:{appear:""},on:{"after-appear":t.afterEnter,"before-appear":t.beforeEnter}},[e?s("span",{staticClass:"move_dot"},[s("svg",{staticClass:"move_liner"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-add"}})])]):t._e()])}),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading||t.loadRatings,expression:"showLoading || loadRatings"}]}),t._v(" "),s("transition",{attrs:{name:"router-slid",mode:"out-in"}},[s("router-view")],1)],2)},staticRenderFns:[]}}});